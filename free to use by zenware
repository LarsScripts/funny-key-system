local player = game.Players.LocalPlayer
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0.4, 0, 0.4, 0)
frame.Position = UDim2.new(0.3, 0, 0.3, 0)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.BorderSizePixel = 0
frame.Parent = screenGui

local frameCorner = Instance.new("UICorner")
frameCorner.CornerRadius = UDim.new(0, 10)
frameCorner.Parent = frame

local titleBar = Instance.new("Frame")
titleBar.Size = UDim2.new(1, 0, 0.1, 0)
titleBar.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
titleBar.BorderSizePixel = 0
titleBar.Parent = frame

local titleBarCorner = Instance.new("UICorner")
titleBarCorner.CornerRadius = UDim.new(0, 10)
titleBarCorner.Parent = titleBar

local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(0.8, 0, 1, 0)
titleLabel.Position = UDim2.new(0.05, 0, 0, 0)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "Login Screen"
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextSize = 22
titleLabel.TextXAlignment = Enum.TextXAlignment.Left
titleLabel.Parent = titleBar

local closeButton = Instance.new("TextButton")
closeButton.Size = UDim2.new(0.1, 0, 1, 0)
closeButton.Position = UDim2.new(0.9, 0, 0, 0)
closeButton.Text = "X"
closeButton.BackgroundTransparency = 1
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.Font = Enum.Font.GothamBold
closeButton.TextSize = 22
closeButton.Parent = titleBar

closeButton.MouseButton1Click:Connect(function()
    screenGui:Destroy()
end)

local usernameBox = Instance.new("TextBox")
usernameBox.Size = UDim2.new(0.8, 0, 0.1, 0)
usernameBox.Position = UDim2.new(0.1, 0, 0.25, 0)
usernameBox.PlaceholderText = "Enter Username"
usernameBox.Text = ""  -- Ensure the text box starts empty
usernameBox.ClearTextOnFocus = true
usernameBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
usernameBox.TextColor3 = Color3.fromRGB(255, 255, 255)
usernameBox.Font = Enum.Font.Gotham
usernameBox.TextSize = 18
usernameBox.PlaceholderColor3 = Color3.fromRGB(160, 160, 160)
usernameBox.Parent = frame

local usernameCorner = Instance.new("UICorner")
usernameCorner.CornerRadius = UDim.new(0, 5)
usernameCorner.Parent = usernameBox

local passwordBox = Instance.new("TextBox")
passwordBox.Size = UDim2.new(0.8, 0, 0.1, 0)
passwordBox.Position = UDim2.new(0.1, 0, 0.4, 0)
passwordBox.PlaceholderText = "Enter Password"
passwordBox.Text = ""  -- Ensure the text box starts empty
passwordBox.ClearTextOnFocus = true
passwordBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
passwordBox.TextColor3 = Color3.fromRGB(255, 255, 255)
passwordBox.Font = Enum.Font.Gotham
passwordBox.TextSize = 18
passwordBox.PlaceholderColor3 = Color3.fromRGB(160, 160, 160)
passwordBox.Parent = frame

local passwordCorner = Instance.new("UICorner")
passwordCorner.CornerRadius = UDim.new(0, 5)
passwordCorner.Parent = passwordBox

local maskedLabel = Instance.new("TextLabel")
maskedLabel.Size = passwordBox.Size
maskedLabel.Position = passwordBox.Position
maskedLabel.BackgroundTransparency = 1
maskedLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
maskedLabel.Font = Enum.Font.Gotham
maskedLabel.TextSize = 18
maskedLabel.Text = ""  -- Ensure the label starts empty
maskedLabel.Parent = frame

local loginButton = Instance.new("TextButton")
loginButton.Size = UDim2.new(0.8, 0, 0.1, 0)
loginButton.Position = UDim2.new(0.1, 0, 0.55, 0)
loginButton.Text = "Log In"
loginButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
loginButton.TextColor3 = Color3.fromRGB(255, 255, 255)
loginButton.Font = Enum.Font.GothamBold
loginButton.TextSize = 18
loginButton.Parent = frame

local loginButtonCorner = Instance.new("UICorner")
loginButtonCorner.CornerRadius = UDim.new(0, 5)
loginButtonCorner.Parent = loginButton
--you can here edit the sigma whitelist of users and passwords
local whitelist = {
    ["Zenware"] = "ZenWareIsBest",
    ["player69"] = "pass1234",
    ["user"] = "mypassword"
}

local function onLoginButtonClick()
    local username = usernameBox.Text
    local password = passwordBox.Text

    if whitelist[username] and whitelist[username] == password then
        screenGui:Destroy()
        print("Login successful!")
        -- paste here whatever happens after sigma succesfully logs in so for example a loadstring of you script
    else
        usernameBox.Text = ""
        passwordBox.Text = ""
        maskedLabel.Text = ""
        print("Invalid username or password.")
    end
end

loginButton.MouseButton1Click:Connect(onLoginButtonClick)

local function updateMaskedLabel()
    maskedLabel.Text = string.rep("*", #passwordBox.Text)  -- Update with masked characters
end

passwordBox:GetPropertyChangedSignal("Text"):Connect(updateMaskedLabel)
passwordBox.Focused:Connect(function()
    maskedLabel.Visible = false
end)
passwordBox.FocusLost:Connect(function()
    maskedLabel.Visible = true
    updateMaskedLabel()
end)

local dragging
local dragInput
local dragStart
local startPos

local function updateInput(input)
    local delta = input.Position - dragStart
    frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

titleBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = frame.Position

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

titleBar.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
        dragInput = input
    end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
    if dragging and input == dragInput then
        updateInput(input)
    end
end)
